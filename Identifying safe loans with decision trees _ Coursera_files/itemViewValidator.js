define("bundles/ondemand/utils/itemViewValidator",["require","exports","module","react-with-addons","underscore","bundles/locking/components/LockedItem","bundles/ondemand/components/ItemLayout","bundles/ondemand/components/item/LightItemLayout","bundles/phoenix/template/models/userIdentity","bundles/unauthenticated/components/UnauthenticatedItem"],function(require,exports,module){"use strict";var e=require("react-with-addons"),_=require("underscore"),t=require("bundles/locking/components/LockedItem"),n=require("bundles/ondemand/components/ItemLayout"),a=require("bundles/ondemand/components/item/LightItemLayout"),d=require("bundles/phoenix/template/models/userIdentity"),o=require("bundles/unauthenticated/components/UnauthenticatedItem"),i=function itemViewValidator(i){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=i.displayName||i.name;_(s).defaults({checkAuthenticated:!0,checkLocked:!0,renderItemLayout:!1});var r=e.createClass({displayName:c+"Validator",propTypes:{itemMetadata:e.PropTypes.object.isRequired},getInitialState:function getInitialState(){return{}},componentDidMount:function componentDidMount(){var e=this.props.itemMetadata;this.setState({isAuthenticated:d.get("authenticated"),isLocked:!(!e.get("isLocked")||!e.get("lockableByItem"))})},renderFailedChecksView:function renderFailedChecksView(){var a=s.checkAuthenticated,d=s.checkLocked,n=this.state,i=n.isAuthenticated,r=n.isLocked;if(a&&!i)return e.createElement(o,this.props);if(d&&r)return e.createElement(t,this.props)},render:function render(){var o=s.renderItemLayout,r=this.props.itemMetadata,t=this.renderFailedChecksView();if(t){var d=e.createElement(a,{itemMetadata:r,showFeedback:!1,isCard:!0},t);return o?e.createElement(n,null,d):d}return e.createElement(i,this.props)}});return r.BaseComp=i,r};module.exports=i});